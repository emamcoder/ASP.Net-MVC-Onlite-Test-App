@model WebTesting.Models.Question
@{
    ViewBag.Title = "EditQuestion";
}

<h2>EditQuestion</h2>

<div class="row">
    <form role="form" class="form-horizontal" action="/Administration/EditQuestion" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" name="QuestionId" value="@Model.QuestionId"/>
        <label for="SelectTest" class="control-label col-md-2">Tests</label>
        <div class="col-md-10 form-group">
            <select id="SelectTest" name="TestId" class="form-control">
                <option value="-1">select test</option>
                @foreach (var t in ViewBag.Tests)
                {
                    if (t.TestId ==Model.TestId)
                    {
                        <option value="@t.TestId" selected>@t.TestName</option>
                    }
                    <option value="@t.TestId">@t.TestName</option>
                }
            </select>

        </div>
        <label for="QuestionText" class="control-label col-md-2">QuestionText</label>
        <div class="col-md-10 form-group">
            <textarea id="QuestionText" rows="5" cols="20" name="QuestionText" class="form-control">@Model.QuestionText</textarea>
        </div>
        <label for="textAnswer1" class="control-label col-md-2">Answer1</label>
        <div class="col-md-10 form-group">
            <input id="textAnswer1" type="text" name="Answer1" class="form-control" value="@Model.Answer1" />
        </div>
        <label for="textAnswer2" class="control-label col-md-2">Answer2</label>
        <div class="col-md-10 form-group">
            <input id="textAnswer2" type="text" name="Answer2" class="form-control" value="@Model.Answer2"/>
        </div>
        <label for="textAnswer3" class="control-label col-md-2">Answer3</label>
        <div class="col-md-10 form-group">
            <input id="textAnswer3" type="text" name="Answer3" class="form-control" value="@Model.Answer3"/>
        </div>
        <label for="SelectAnswer1" class="control-label col-md-2">Correct answer</label>
        <div class="col-md-10 form-group">
            <select id="Select1" name="CorrectAnswer" class="form-control">
                <option value="1">Answer1</option>
                <option value="2">Answer2</option>
                <option value="3">Answer3</option>
            </select>
        </div>
        <input type="hidden" name="QuestionNumber" value="@Model.QuestionNumber"/>
        <div class="form-group">
            <div class="col-md-8 col-lg-offset-4">
                <button id="btnSave" type="submit" class="btn btn-primary">Save</button>
            </div>
        </div>
    </form>
</div>

<div>
    <a href="/Administration/Index">Back to list</a>
</div>


@section Scripts{
    <script>
        $(function () {
            var correctQuestion = '@ViewBag.CorrectAnswer';

            $("#Select1").val(correctQuestion);
        });
    </script>
  
    }